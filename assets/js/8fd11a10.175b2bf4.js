"use strict";(self.webpackChunkstaticdocs_starter=self.webpackChunkstaticdocs_starter||[]).push([[4081],{5959:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>t,metadata:()=>d,toc:()=>a});var o=i(74848),s=i(28453);const t={sidebar_position:1},r="Getting Started",d={id:"user_guide/getting_started",title:"Getting Started",description:"This page guides you through the process of installing and using PyMomentum, the Python bindings for Momentum.",source:"@site/docs_python/01_user_guide/01_getting_started.md",sourceDirName:"01_user_guide",slug:"/user_guide/getting_started",permalink:"/momentum/pymomentum/user_guide/getting_started",draft:!1,unlisted:!1,editUrl:"https://github.com/facebookresearch/momentum/edit/main/momentum/website/docs_python/01_user_guide/01_getting_started.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"Examples",permalink:"/momentum/pymomentum/examples/python_basics"}},c={},a=[{value:"Installing PyMomentum",id:"installing-pymomentum",level:2},{value:"Pixi",id:"pixi",level:3},{value:"Conda",id:"conda",level:3},{value:"Building PyMomentum from Source",id:"building-pymomentum-from-source",level:2},{value:"Prerequisite",id:"prerequisite",level:3},{value:"Build and Test",id:"build-and-test",level:3},{value:"Building from Source for Custom Environments",id:"building-from-source-for-custom-environments",level:3},{value:"Option 1: Add your code/packages to the pixi environment (recommended for quick testing)",id:"option-1-add-your-codepackages-to-the-pixi-environment-recommended-for-quick-testing",level:4},{value:"Option 2: Build in your custom conda environment",id:"option-2-build-in-your-custom-conda-environment",level:4},{value:"Troubleshooting",id:"troubleshooting",level:4}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"getting-started",children:"Getting Started"})}),"\n",(0,o.jsx)(n.p,{children:"This page guides you through the process of installing and using PyMomentum, the Python bindings for Momentum."}),"\n",(0,o.jsx)(n.h2,{id:"installing-pymomentum",children:"Installing PyMomentum"}),"\n",(0,o.jsxs)(n.p,{children:["PyMomentum binary builds are available for Windows, macOS, and Linux via ",(0,o.jsx)(n.a,{href:"https://prefix.dev/",children:"Pixi"})," or the Conda package manager."]}),"\n",(0,o.jsx)(n.h3,{id:"pixi",children:(0,o.jsx)(n.a,{href:"https://prefix.dev/channels/conda-forge/packages/momentum",children:"Pixi"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Auto-detects GPU/CPU\npixi add pymomentum\n\n# With specific backend\npixi add pymomentum-gpu  # or pymomentum-cpu\n"})}),"\n",(0,o.jsx)(n.h3,{id:"conda",children:(0,o.jsx)(n.a,{href:"https://anaconda.org/conda-forge/momentum",children:"Conda"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Replace 'pixi add' with 'conda install -c conda-forge'\nconda install -c conda-forge pymomentum\nconda install -c conda-forge pymomentum-gpu  # or pymomentum-cpu\n"})}),"\n",(0,o.jsx)(n.h2,{id:"building-pymomentum-from-source",children:"Building PyMomentum from Source"}),"\n",(0,o.jsx)(n.h3,{id:"prerequisite",children:"Prerequisite"}),"\n",(0,o.jsx)(n.p,{children:"Complete the following steps only once:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Install Pixi by following the instructions on the ",(0,o.jsx)(n.a,{href:"https://prefix.dev/",children:"website"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Clone the repository and navigate to the root directory:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/facebookresearch/momentum\ncd momentum\n"})}),"\n",(0,o.jsx)(n.p,{children:"Ensure that all subsequent commands are executed in the project's root directory unless specified otherwise."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"build-and-test",children:"Build and Test"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Build the project with the following command (note that the first run may take a few minutes as it installs all dependencies):"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pixi run build\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Run the Python tests with:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pixi run test_py\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"building-from-source-for-custom-environments",children:"Building from Source for Custom Environments"}),"\n",(0,o.jsx)(n.p,{children:"If you need to use PyMomentum in your own conda environment with specific dependency versions (e.g., particular PyTorch or CUDA versions), you have two options:"}),"\n",(0,o.jsx)(n.h4,{id:"option-1-add-your-codepackages-to-the-pixi-environment-recommended-for-quick-testing",children:"Option 1: Add your code/packages to the pixi environment (recommended for quick testing)"}),"\n",(0,o.jsxs)(n.p,{children:["For quick testing and development, you can add your packages or code to the existing pixi environment by modifying ",(0,o.jsx)(n.code,{children:"pixi.toml"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Add a package dependency to pixi.toml\npixi add your-package-name\n\n# Or manually edit pixi.toml to add your custom dependencies\n"})}),"\n",(0,o.jsx)(n.p,{children:"This approach avoids the complexity of managing dependencies manually and ensures compatibility with the pixi-managed environment."}),"\n",(0,o.jsx)(n.h4,{id:"option-2-build-in-your-custom-conda-environment",children:"Option 2: Build in your custom conda environment"}),"\n",(0,o.jsx)(n.p,{children:"For production use or when you need specific dependency versions:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Activate your target conda environment:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"conda activate your_environment_name\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Navigate to the momentum source directory:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd path/to/momentum\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Install required dependencies:"}),"\n",(0,o.jsxs)(n.p,{children:["When building with ",(0,o.jsx)(n.code,{children:"pip install ."})," in your custom environment, you need to manually install PyMomentum's dependencies. See the ",(0,o.jsx)(n.code,{children:"dependencies"})," section in ",(0,o.jsx)(n.a,{href:"https://github.com/facebookresearch/momentum/blob/main/pixi.toml",children:"pixi.toml"})," for the complete list of required packages. Key dependencies include:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Install core dependencies (adjust versions as needed)\nconda install -c conda-forge pytorch eigen ceres-solver\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Build and install PyMomentum:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pip install .\n"})}),"\n",(0,o.jsx)(n.p,{children:"This builds and installs PyMomentum using the dependencies in your activated environment."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsxs)(n.strong,{children:["I built the latest unreleased version with ",(0,o.jsx)(n.code,{children:"pixi run build_py"}),". Can I use it in my conda environment?"]})}),"\n",(0,o.jsxs)(n.p,{children:["No. ",(0,o.jsx)(n.code,{children:"pixi run build_py"})," builds within pixi's isolated environment. To use the latest version in your conda environment, activate it and run ",(0,o.jsx)(n.code,{children:"pip install ."})," as shown above."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Finding available PyMomentum versions:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pixi search -c conda-forge pymomentum\n# or\nconda search -c conda-forge pymomentum\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Installing specific versions with CUDA constraints:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'# Example: Install version 0.1.74 with CUDA 12.9\nconda install -c conda-forge pymomentum=0.1.74="cuda129*"\n'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Dependency conflicts or version incompatibility:"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Ensure your environment has compatible PyTorch, CUDA, and build dependencies (",(0,o.jsx)(n.code,{children:"scikit-build-core"}),", ",(0,o.jsx)(n.code,{children:"pybind11"}),", CMake, C++ compiler)"]}),"\n",(0,o.jsx)(n.li,{children:"PyMomentum links against PyTorch's CUDA libraries, so CUDA versions must match"}),"\n",(0,o.jsxs)(n.li,{children:["For custom PyTorch/CUDA combinations not available on conda-forge, build from source (as described above) or contribute a backport to the ",(0,o.jsx)(n.a,{href:"https://github.com/conda-forge/momentum-feedstock",children:"momentum-feedstock repository"})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);